{"version":3,"file":"static/webpack/static/development/pages/dashboard_employer.js.5088a3f66e38859a0a25.hot-update.js","sources":["webpack:///./components/Dashboard/Employer/FindDesigners.tsx"],"sourcesContent":["import React, {useEffect, useContext, useState} from 'react'\nimport { getGradedDesigners } from '../../../lib/server'\nimport { User } from '../../../model/model'\nimport {UserContext} from '../../../lib/UserProvider'\nimport Loading from '../../General/Loading'\nimport {Employer} from '../../../model/model'\nimport DesignerList, {FindDesignerListType} from './DesignerList'\nimport {storage_ref} from '../../../lib/firebase'\nimport _ from 'lodash'\n\nconst FindDesigners: React.FC = (props) => {\n    const {currentUser, changeUser}  = useContext(UserContext)\n    const [designerList, setDesignerList] = useState<FindDesignerListType[] | undefined>(undefined)\n\n    useEffect(() => {\n        var id = currentUser.id\n        if ((currentUser as Employer).isAnonymous !== undefined) {\n            id = \"60fff552-280b-47ae-b632-25a744a7a910\"\n        }\n        getGradedDesigners(id).then(async (commList: User[]) => {\n            const updatedList = await Promise.all(_.map(commList, async (user: User) => {\n                let profilePic = ''\n                if (user.profilePic !== undefined) {\n                    try {\n                        profilePic = await storage_ref.child('profilePic/' + user.profilePic).getDownloadURL()\n                    } catch (e) {\n                        console.error(e)\n                    }\n                }\n                return {\n                    name_feedback: [(user.firstName + \" \" + user.lastName), user.grade.response, profilePic],\n                    score: user.grade.score,\n                    location: user.location,\n                    primary_skill: user.designType,\n                    contact: user\n                }\n            }))\n            console.log(updatedList)\n            //setDesignerList(updatedList)\n        })\n    }, [currentUser])\n\n    if (designerList === undefined) {\n        return (<Loading />)\n    }\n    return (<DesignerList designerList={designerList}/>)\n}\n\nexport default FindDesigners"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AALA;AAOA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;;;;A","sourceRoot":""}