{"ast":null,"code":"import React, { useContext, useState, useEffect } from 'react';\nimport { UserContext } from '../../../lib/UserProvider';\nimport QuizScreen from '../../OnboardingFlow/Designers/QuizScreen';\nimport { createUser, getDesignCommunicationsList } from '../../../lib/server';\nimport { Typography } from 'antd';\nimport Loading from '../../General/Loading';\nimport CommunicationsList from './CommunicationsList';\n\nconst ViewCommunications = props => {\n  const {\n    currentUser,\n    changeUser\n  } = useContext(UserContext);\n  const [commList, SetCommList] = useState(undefined);\n\n  const updateUser = async updatedUser => {\n    changeUser(updatedUser);\n    await createUser(updatedUser);\n  };\n\n  useEffect(() => {\n    getDesignCommunicationsList(currentUser.id).then(commList => {\n      SetCommList(commList);\n    });\n  }, []);\n\n  if (!currentUser.completedQuiz) {\n    return /*#__PURE__*/React.createElement(QuizScreen, {\n      isDashboard: true,\n      changeCurrentUser: updateUser\n    });\n  }\n\n  if (!currentUser.graded) {\n    return /*#__PURE__*/React.createElement(Typography, null, \"It looks you have not been reviewed by our staff yet. Check back later!\");\n  } else {\n    if (currentUser.communications === null || currentUser.communications === []) {\n      return /*#__PURE__*/React.createElement(Typography, null, \"Our employers are currently taking a look at your profile and will reach out if they express interest in you.\");\n    } else {\n      if (commList == undefined) {\n        return /*#__PURE__*/React.createElement(Loading, null);\n      } else {\n        return /*#__PURE__*/React.createElement(CommunicationsList, {\n          communicationList: commList\n        });\n      }\n    }\n  }\n};\n\nexport default ViewCommunications;","map":{"version":3,"sources":["/Users/insanity/Documents/personalprojects/sumpixel-client/components/Dashboard/Designer/ViewCommunications.tsx"],"names":["React","useContext","useState","useEffect","UserContext","QuizScreen","createUser","getDesignCommunicationsList","Typography","Loading","CommunicationsList","ViewCommunications","props","currentUser","changeUser","commList","SetCommList","undefined","updateUser","updatedUser","id","then","completedQuiz","graded","communications"],"mappings":"AAAA,OAAOA,KAAP,IAAeC,UAAf,EAA2BC,QAA3B,EAAqCC,SAArC,QAAqD,OAArD;AACA,SAAQC,WAAR,QAA0B,2BAA1B;AACA,OAAOC,UAAP,MAAuB,2CAAvB;AACA,SAAQC,UAAR,EAAoBC,2BAApB,QAAsD,qBAAtD;AAEA,SAAQC,UAAR,QAAyB,MAAzB;AACA,OAAOC,OAAP,MAAoB,uBAApB;AACA,OAAOC,kBAAP,MAA+B,sBAA/B;;AAEA,MAAMC,kBAA4B,GAAIC,KAAD,IAAW;AAC5C,QAAM;AAACC,IAAAA,WAAD;AAAcC,IAAAA;AAAd,MAA6Bb,UAAU,CAACG,WAAD,CAA7C;AACA,QAAM,CAACW,QAAD,EAAWC,WAAX,IAA0Bd,QAAQ,CAA6Be,SAA7B,CAAxC;;AAEA,QAAMC,UAAU,GAAG,MAAOC,WAAP,IAA6B;AAC5CL,IAAAA,UAAU,CAACK,WAAD,CAAV;AACA,UAAMb,UAAU,CAACa,WAAD,CAAhB;AACH,GAHD;;AAKAhB,EAAAA,SAAS,CAAC,MAAM;AACZI,IAAAA,2BAA2B,CAACM,WAAW,CAACO,EAAb,CAA3B,CAA4CC,IAA5C,CAAkDN,QAAD,IAA8B;AAC3EC,MAAAA,WAAW,CAACD,QAAD,CAAX;AACH,KAFD;AAGH,GAJQ,EAIN,EAJM,CAAT;;AAMA,MAAI,CAAEF,WAAD,CAAsBS,aAA3B,EAA0C;AACtC,wBAAQ,oBAAC,UAAD;AAAY,MAAA,WAAW,EAAE,IAAzB;AAA+B,MAAA,iBAAiB,EAAEJ;AAAlD,MAAR;AACH;;AAED,MAAI,CAAEL,WAAD,CAAsBU,MAA3B,EAAmC;AAC/B,wBAAQ,oBAAC,UAAD,kFAAR;AACH,GAFD,MAEO;AACH,QAAKV,WAAD,CAAsBW,cAAtB,KAAyC,IAAzC,IAAkDX,WAAD,CAAsBW,cAAtB,KAAyC,EAA9F,EAAkG;AAC9F,0BAAQ,oBAAC,UAAD,wHAAR;AACH,KAFD,MAEO;AACH,UAAIT,QAAQ,IAAIE,SAAhB,EAA2B;AACvB,4BAAQ,oBAAC,OAAD,OAAR;AACH,OAFD,MAEO;AACH,4BAAQ,oBAAC,kBAAD;AAAoB,UAAA,iBAAiB,EAAEF;AAAvC,UAAR;AACH;AACJ;AACJ;AACJ,CAhCD;;AAkCA,eAAeJ,kBAAf","sourcesContent":["import React, {useContext, useState, useEffect} from 'react'\nimport {UserContext} from '../../../lib/UserProvider'\nimport QuizScreen from '../../OnboardingFlow/Designers/QuizScreen'\nimport {createUser, getDesignCommunicationsList} from '../../../lib/server'\nimport {User, CommDesigner} from '../../../model/model'\nimport {Typography} from 'antd'\nimport Loading from '../../General/Loading'\nimport CommunicationsList from './CommunicationsList'\n\nconst ViewCommunications: React.FC = (props) => {\n    const {currentUser, changeUser}  = useContext(UserContext)\n    const [commList, SetCommList] = useState<CommDesigner[] | undefined>(undefined)\n\n    const updateUser = async (updatedUser: User) => {\n        changeUser(updatedUser)\n        await createUser(updatedUser)\n    }\n\n    useEffect(() => {\n        getDesignCommunicationsList(currentUser.id).then((commList: CommDesigner[]) => {\n            SetCommList(commList)\n        })\n    }, [])\n\n    if (!(currentUser as User).completedQuiz) {\n        return (<QuizScreen isDashboard={true} changeCurrentUser={updateUser}/>)\n    }\n\n    if (!(currentUser as User).graded) {\n        return (<Typography>It looks you have not been reviewed by our staff yet. Check back later!</Typography>)\n    } else {\n        if ((currentUser as User).communications === null || (currentUser as User).communications === []) {\n            return (<Typography>Our employers are currently taking a look at your profile and will reach out if they express interest in you.</Typography>)\n        } else {\n            if (commList == undefined) {\n                return (<Loading />)\n            } else {\n                return (<CommunicationsList communicationList={commList} />)\n            }\n        }\n    }\n}\n\nexport default ViewCommunications"]},"metadata":{},"sourceType":"module"}