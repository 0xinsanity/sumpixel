{"ast":null,"code":"import React, { useEffect, useState, useContext } from 'react';\nimport Router, { useRouter } from 'next/router';\nimport SimpleNavigationBar from '../../components/Profile/SimpleNavigationBar';\nimport Head from 'next/head';\nimport Loading from '../../components/General/Loading';\nimport { getUser } from '../../lib/server';\nimport { Background } from '../dashboard_employer';\nimport { Typography } from 'antd';\nimport { UserContext } from '../../lib/UserProvider';\nimport TextAboveAnswer from '../../components/Profile/TextAboveAnswer';\nimport styled from 'styled-components';\nimport _ from 'lodash';\nconst NavContainer = styled.div`\n\n`;\n\nconst Profile = () => {\n  const {\n    currentUser,\n    changeUser\n  } = useContext(UserContext);\n  const router = useRouter();\n  console.log(router.query);\n  const {\n    profile_id\n  } = router.query;\n  const [currentProfile, changeCurrentProfile] = useState(undefined);\n  const [profileString, changeProfileString] = useState('Profile');\n  const showStats = currentUser !== null && currentUser.companyName !== undefined;\n  useEffect(() => {\n    if (profile_id === undefined) {\n      return;\n    }\n\n    console.log(profile_id);\n    getUser(profile_id).then(profile => {\n      profile['graded'] = undefined;\n      profile['completedQuiz'] = undefined;\n      profile['communications'] = undefined;\n\n      if (showStats) {\n        changeCurrentProfile(profile);\n      } else {\n        profile['grade'] = undefined;\n        changeCurrentProfile(profile);\n      }\n\n      changeProfileString(profile.firstName + \" \" + profile.lastName);\n      window.analytics.page(profileString);\n    }).catch(error => {\n      console.error(error);\n      Router.push('/');\n    });\n  }, [profile_id]);\n\n  if (currentProfile === undefined || currentProfile === null) {\n    return /*#__PURE__*/React.createElement(Loading, null);\n  }\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Head, null, /*#__PURE__*/React.createElement(\"title\", null, profileString)), /*#__PURE__*/React.createElement(SimpleNavigationBar, {\n    subtitle: profileString\n  }, /*#__PURE__*/React.createElement(NavContainer, null, _.mapKeys(currentProfile, (key, value) => {\n    return /*#__PURE__*/React.createElement(TextAboveAnswer, {\n      above: key,\n      below: value\n    });\n  })), /*#__PURE__*/React.createElement(Background, {\n    style: {\n      height: '100%'\n    }\n  }, /*#__PURE__*/React.createElement(Typography.Text, null, \"hello\"))));\n};\n\nexport default Profile;","map":{"version":3,"sources":["/Users/insanity/Documents/personalprojects/sumpixel/client/pages/profile/[profile_id].tsx"],"names":["React","useEffect","useState","useContext","Router","useRouter","SimpleNavigationBar","Head","Loading","getUser","Background","Typography","UserContext","TextAboveAnswer","styled","_","NavContainer","div","Profile","currentUser","changeUser","router","console","log","query","profile_id","currentProfile","changeCurrentProfile","undefined","profileString","changeProfileString","showStats","companyName","then","profile","firstName","lastName","window","analytics","page","catch","error","push","mapKeys","key","value","height"],"mappings":"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","sourcesContent":["import React, {useEffect, useState, useContext} from 'react'\nimport Router, { useRouter } from 'next/router'\nimport SimpleNavigationBar from '../../components/Profile/SimpleNavigationBar'\nimport Head from 'next/head'\nimport {User, Employer} from '../../model/model'\nimport Loading from '../../components/General/Loading'\nimport {getUser} from '../../lib/server'\nimport {Background} from '../dashboard_employer'\nimport {Typography} from 'antd'\nimport {UserContext} from '../../lib/UserProvider'\nimport TextAboveAnswer from '../../components/Profile/TextAboveAnswer'\nimport styled from 'styled-components'\nimport _ from 'lodash'\n\nconst NavContainer = styled.div`\n\n`\n\nconst Profile: React.FC = () => {\n    const {currentUser, changeUser}  = useContext(UserContext)\n    const router = useRouter()\n    console.log(router.query)\n    const { profile_id } = router.query\n    const [currentProfile, changeCurrentProfile]  = useState<User>(undefined)\n    const [profileString, changeProfileString] = useState<string>('Profile')\n    const showStats = currentUser !== null && ((currentUser as Employer).companyName !== undefined)\n\n    useEffect(() => {\n        if (profile_id === undefined) {\n            return\n        }\n\n        console.log(profile_id)\n        getUser(profile_id as string).then((profile: User) => {\n            profile['graded'] = undefined\n            profile['completedQuiz'] = undefined\n            profile['communications'] = undefined\n            if (showStats) {\n                changeCurrentProfile(profile)\n            } else {\n                profile['grade'] = undefined\n                changeCurrentProfile(profile)\n            }\n            changeProfileString(profile.firstName + \" \" + profile.lastName)\n            window.analytics.page(profileString)\n        }).catch((error) => {\n            console.error(error)\n            Router.push('/')\n        })\n    }, [profile_id])\n\n    if (currentProfile === undefined || currentProfile === null) {\n        return (<Loading />)\n    }\n\n    return (<>\n                <Head>\n                    <title>{profileString}</title>\n                </Head>\n                <SimpleNavigationBar \n                    subtitle={profileString}\n                >\n                    <NavContainer>\n                        {_.mapKeys(currentProfile, (key, value) => {\n                            return (<TextAboveAnswer above={key} below={value}/>)\n                        })}\n                    </NavContainer>\n                    <Background style={{height: '100%'}}>\n                        <Typography.Text>hello</Typography.Text>\n                    </Background>\n                </SimpleNavigationBar>\n            </>)\n}\n\nexport default Profile"]},"metadata":{},"sourceType":"module"}