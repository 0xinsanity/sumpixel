{"ast":null,"code":"import React, { useEffect, useContext } from 'react';\nimport { Tabs } from 'antd';\nimport Loading from '../components/General/Loading';\nimport { Container } from '../components/General/Container';\nimport NavigationBar from '../components/Dashboard/NavigationBar';\nimport FormBusinessData from '../components/OnboardingFlow/Employers/FormBusinessData';\nimport FindDesigners from '../components/Dashboard/Employer/FindDesigners';\nimport ManageCommunications from '../components/Dashboard/Employer/ManageCommunications';\nimport { UserContext } from '../lib/UserProvider';\nimport { modifyEmployer } from '../lib/server';\nimport Head from 'next/head';\nimport styled from 'styled-components';\nimport { useRouter } from 'next/router';\nimport { myFirebase } from '../lib/firebase';\nconst {\n  TabPane\n} = Tabs;\nconst TabObjs = [{\n  name: \"Designers\",\n  key: \"1\"\n}, {\n  name: \"Communications\",\n  key: \"2\"\n}, {\n  name: \"Profile\",\n  key: \"3\"\n}];\nexport const Background = styled.div.withConfig({\n  displayName: \"dashboard_employer__Background\",\n  componentId: \"sc-1yrkndj-0\"\n})([\"background-color:#f7f9fb;width:100%;\"]);\n\nconst DashboardEmployer = props => {\n  const {\n    currentUser,\n    changeUser\n  } = useContext(UserContext);\n  const {\n    asPath,\n    query\n  } = useRouter();\n\n  if (query.id === \"60fff552-280b-47ae-b632-25a744a7a910\" && currentUser === undefined) {\n    myFirebase.auth().onAuthStateChanged(function (user) {\n      if (user) {\n        changeUser({\n          firstName: '',\n          lastName: '',\n          email: '',\n          id: user.uid,\n          isAnonymous: true\n        });\n      }\n    });\n  }\n\n  useEffect(() => {\n    window.analytics.page('Employer Dashboard');\n  }, []);\n\n  const updateEmployer = async updatedUser => {\n    window.analytics.track('Modify Employer');\n    changeUser(updatedUser);\n    await modifyEmployer(updatedUser);\n  };\n\n  if (currentUser === undefined || currentUser === null) {\n    return /*#__PURE__*/React.createElement(Loading, null);\n  }\n\n  var footer;\n\n  if (currentUser.isAnonymous === undefined) {\n    footer = /*#__PURE__*/React.createElement(Tabs, {\n      tabBarGutter: 40,\n      defaultActiveKey: \"1\"\n    }, /*#__PURE__*/React.createElement(TabPane, {\n      tab: TabObjs[0].name,\n      key: TabObjs[0].key\n    }, /*#__PURE__*/React.createElement(Background, null, /*#__PURE__*/React.createElement(Container, {\n      isDashboard: true\n    }, /*#__PURE__*/React.createElement(FindDesigners, null)))));\n  } else {\n    footer = /*#__PURE__*/React.createElement(Tabs, {\n      tabBarGutter: 40,\n      defaultActiveKey: \"1\"\n    }, /*#__PURE__*/React.createElement(TabPane, {\n      tab: TabObjs[0].name,\n      key: TabObjs[0].key\n    }, /*#__PURE__*/React.createElement(Background, null, /*#__PURE__*/React.createElement(Container, {\n      isDashboard: true\n    }, /*#__PURE__*/React.createElement(FindDesigners, null)))), /*#__PURE__*/React.createElement(TabPane, {\n      tab: TabObjs[1].name,\n      key: TabObjs[1].key\n    }, /*#__PURE__*/React.createElement(Background, null, /*#__PURE__*/React.createElement(Container, {\n      isDashboard: true\n    }, /*#__PURE__*/React.createElement(ManageCommunications, null)))), /*#__PURE__*/React.createElement(TabPane, {\n      tab: TabObjs[2].name,\n      key: TabObjs[2].key\n    }, /*#__PURE__*/React.createElement(Background, null, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        display: 'flex',\n        padding: 40,\n        justifyContent: 'left'\n      }\n    }, /*#__PURE__*/React.createElement(FormBusinessData, {\n      changeCurrentUser: updateEmployer,\n      modifyProfile: true\n    })))));\n  }\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Head, null, /*#__PURE__*/React.createElement(\"title\", null, \"Employer Dashboard\")), /*#__PURE__*/React.createElement(NavigationBar, {\n    isDesigner: false,\n    subtitle: currentUser.isAnonymous !== undefined ? `${currentUser.firstName}'s Dashboard` : 'Temporary Dashboard',\n    footer: footer\n  }));\n};\n\nexport default DashboardEmployer;","map":{"version":3,"sources":["/Users/insanity/Documents/personalprojects/sumpixel/client/pages/dashboard_employer.tsx"],"names":["React","useEffect","useContext","Tabs","Loading","Container","NavigationBar","FormBusinessData","FindDesigners","ManageCommunications","UserContext","modifyEmployer","Head","styled","useRouter","myFirebase","TabPane","TabObjs","name","key","Background","div","DashboardEmployer","props","currentUser","changeUser","asPath","query","id","undefined","auth","onAuthStateChanged","user","firstName","lastName","email","uid","isAnonymous","window","analytics","page","updateEmployer","updatedUser","track","footer","display","padding","justifyContent"],"mappings":"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","sourcesContent":["import React, {useEffect, useState, useContext} from 'react'\nimport {Tabs} from 'antd'\nimport Loading from '../components/General/Loading'\nimport {Container} from '../components/General/Container'\nimport NavigationBar from '../components/Dashboard/NavigationBar'\nimport FormBusinessData from '../components/OnboardingFlow/Employers/FormBusinessData'\nimport FindDesigners from '../components/Dashboard/Employer/FindDesigners'\nimport ManageCommunications from '../components/Dashboard/Employer/ManageCommunications'\nimport {UserContext} from '../lib/UserProvider'\nimport {Employer} from '../model/model'\nimport { modifyEmployer} from '../lib/server'\nimport Head from 'next/head'\nimport styled from 'styled-components'\nimport {useRouter} from 'next/router'\nimport {myFirebase} from '../lib/firebase'\nconst {TabPane} = Tabs\n\nconst TabObjs = [{name: \"Designers\", key: \"1\"}, \n                {name: \"Communications\", key: \"2\"}, \n                {name: \"Profile\", key: \"3\"}]\n\nexport const Background = styled.div`\n    background-color: #f7f9fb;\n    width: 100%;\n`\n\nconst DashboardEmployer: React.FC = (props) => {\n    const {currentUser, changeUser}  = useContext(UserContext)\n    const {asPath, query} = useRouter()\n    \n    if (query.id === \"60fff552-280b-47ae-b632-25a744a7a910\" && currentUser === undefined) {\n        myFirebase.auth().onAuthStateChanged(function(user) {\n            if (user) {\n                changeUser({\n                    firstName: '',\n                    lastName: '',\n                    email: '',\n                    id: user.uid,\n                    isAnonymous: true\n                } as Employer)\n            }\n          });\n    }\n\n    useEffect(() => {\n        window.analytics.page('Employer Dashboard')\n    }, [])\n\n    const updateEmployer = async (updatedUser: Employer) => {\n        window.analytics.track('Modify Employer');\n        changeUser(updatedUser)\n        await modifyEmployer(updatedUser)\n    }\n\n    if (currentUser === undefined || currentUser === null) {\n        return (<Loading />)\n    }\n\n    var footer: React.ReactNode\n    if ((currentUser as Employer).isAnonymous === undefined) {\n        footer = <Tabs tabBarGutter={40} defaultActiveKey=\"1\">\n            <TabPane tab={TabObjs[0].name} key={TabObjs[0].key}>\n                <Background>\n                    <Container isDashboard={true}>\n                        <FindDesigners/>\n                    </Container>\n                </Background>\n            </TabPane>\n        </Tabs>\n    } else {\n        footer = <Tabs tabBarGutter={40} defaultActiveKey=\"1\">\n        <TabPane tab={TabObjs[0].name} key={TabObjs[0].key}>\n            <Background>\n                <Container isDashboard={true}>\n                    <FindDesigners/>\n                </Container>\n            </Background>\n        </TabPane>\n        <TabPane tab={TabObjs[1].name} key={TabObjs[1].key}>\n            <Background>\n                <Container isDashboard={true}>\n                    <ManageCommunications/>\n                </Container>\n            </Background>\n        </TabPane>\n        <TabPane tab={TabObjs[2].name} key={TabObjs[2].key}>\n            <Background>\n                <div style={{display: 'flex', padding: 40, justifyContent: 'left'}}>\n                    <FormBusinessData changeCurrentUser={updateEmployer} modifyProfile={true} />\n                </div>\n            </Background>\n        </TabPane>\n    </Tabs>\n    }\n\n    return (\n        <>\n            <Head>\n                <title>Employer Dashboard</title>\n            </Head>\n            <NavigationBar \n                isDesigner={false}\n                subtitle={(currentUser as Employer).isAnonymous !== undefined ? `${currentUser.firstName}'s Dashboard` : 'Temporary Dashboard'}\n                footer={footer}\n            />\n        </>\n    );\n};\n\nexport default DashboardEmployer;"]},"metadata":{},"sourceType":"module"}