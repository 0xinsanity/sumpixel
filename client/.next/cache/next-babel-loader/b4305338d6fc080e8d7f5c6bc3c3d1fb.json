{"ast":null,"code":"import React, { useContext } from 'react';\nimport { Modal, Button, Typography } from 'antd';\nimport { storage_ref } from '../../../lib/firebase';\nimport { UserContext } from '../../../lib/UserProvider';\nimport _ from 'lodash';\nimport Router from 'next/router';\nimport { myFirebase } from '../../../lib/firebase';\n\nconst DesignerInfoModal = props => {\n  const {\n    currentUser,\n    changeUser\n  } = useContext(UserContext);\n  const {\n    designer,\n    visible,\n    onConnect,\n    setInvisible\n  } = props;\n  const isAnonymous = currentUser.isAnonymous;\n\n  if (designer === undefined) {\n    return /*#__PURE__*/React.createElement(React.Fragment, null);\n  }\n\n  const {\n    grade\n  } = designer;\n  const showInfo = {\n    \"Portfolio\": designer.portfolio,\n    \"Location\": designer.location,\n    \"Preferred Role\": designer.preferredRole,\n    \"Desired Salary\": designer.salary,\n    \"Phone Number\": designer.phoneNumber,\n    \"Email\": designer.email\n  };\n\n  const onClick = () => {\n    if (isAnonymous) {\n      myFirebase.auth().signOut().then(() => {\n        setTimeout(() => {\n          Router.push('/signup');\n        }, 1000);\n      });\n    } else {\n      onConnect(designer.id);\n    }\n  };\n\n  const downloadResume = () => {\n    storage_ref.child('resumes/' + designer.resume).getDownloadURL().then(url => {\n      console.log(url);\n      window.open(url, '_blank');\n    }).catch(error => {\n      console.error(error);\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(Modal, {\n    onCancel: setInvisible,\n    title: designer.firstName + \" \" + designer.lastName,\n    visible: visible,\n    footer: [/*#__PURE__*/React.createElement(Button, {\n      onClick: onClick,\n      type: \"primary\"\n    }, isAnonymous ? `Create An Account to Connect With ${designer.firstName}` : `Connect To ${designer.firstName}`)]\n  }, /*#__PURE__*/React.createElement(Typography.Title, {\n    level: 3,\n    underline: true\n  }, \"Our Evaluation\"), /*#__PURE__*/React.createElement(Typography.Title, {\n    level: 4\n  }, \"Overall Score: \", grade.score), /*#__PURE__*/React.createElement(Typography.Text, null, \"This score is out of 10. To learn more about our scoring system, \", /*#__PURE__*/React.createElement(\"a\", {\n    target: '_blank',\n    href: 'https://sumpixel.com/manifesto'\n  }, \"click here.\")), /*#__PURE__*/React.createElement(Typography.Title, {\n    level: 4\n  }, \"Response From Evaluator:\"), /*#__PURE__*/React.createElement(Typography.Text, null, grade.response), /*#__PURE__*/React.createElement(Typography.Title, {\n    level: 3,\n    underline: true\n  }, designer.firstName, \"'s Info\"), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: 'flex',\n      flexDirection: 'column'\n    }\n  }, _.map(_.keys(showInfo), key => {\n    return /*#__PURE__*/React.createElement(Typography.Text, null, key, \": \", showInfo[key], '\\n');\n  })), /*#__PURE__*/React.createElement(Button, {\n    style: {\n      marginTop: 10\n    },\n    onClick: downloadResume\n  }, \"Download Resume\"));\n};\n\nexport default DesignerInfoModal;","map":{"version":3,"sources":["/Users/insanity/Documents/personalprojects/sumpixel/client/components/Dashboard/Employer/DesignerInfoModal.tsx"],"names":["React","useContext","Modal","Button","Typography","storage_ref","UserContext","_","Router","myFirebase","DesignerInfoModal","props","currentUser","changeUser","designer","visible","onConnect","setInvisible","isAnonymous","undefined","grade","showInfo","portfolio","location","preferredRole","salary","phoneNumber","email","onClick","auth","signOut","then","setTimeout","push","id","downloadResume","child","resume","getDownloadURL","url","console","log","window","open","catch","error","firstName","lastName","score","response","display","flexDirection","map","keys","key","marginTop"],"mappings":"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","sourcesContent":["import React, {useContext} from 'react'\nimport { User, Employer } from '../../../model/model'\nimport {Modal, Button, Typography} from 'antd'\nimport {createCommunication} from '../../../lib/server'\nimport {storage_ref} from '../../../lib/firebase'\nimport {UserContext} from '../../../lib/UserProvider'\nimport _ from 'lodash'\nimport Router from 'next/router'\nimport {myFirebase} from '../../../lib/firebase'\n\ninterface DesignerInfoModalProps {\n    designer: User\n    visible: boolean\n    onConnect?: (designerId: string) => void\n    setInvisible: () => void\n}\n\nconst DesignerInfoModal: React.FC<DesignerInfoModalProps> = props => {\n    const {currentUser, changeUser} = useContext(UserContext)\n    const {designer, visible, onConnect, setInvisible} = props\n    const isAnonymous = (currentUser as Employer).isAnonymous\n\n    if (designer === undefined) {\n        return <></>\n    }\n\n    const {grade} = designer\n\n    const showInfo = {\n        \"Portfolio\": designer.portfolio,\n        \"Location\": designer.location,\n        \"Preferred Role\": designer.preferredRole,\n        \"Desired Salary\": designer.salary,\n        \"Phone Number\": designer.phoneNumber,\n        \"Email\": designer.email,\n    }\n\n    const onClick = () => {\n        if (isAnonymous) {\n            myFirebase.auth().signOut().then(() => {\n                setTimeout(() => {\n                    Router.push('/signup')\n                }, 1000)\n            })\n        } else {\n            onConnect(designer.id)\n        }\n    }\n\n    const downloadResume = () => {\n        storage_ref.child('resumes/' + designer.resume).getDownloadURL().then(url => {\n            console.log(url)\n            window.open(url, '_blank')\n        }).catch((error) => {\n            console.error(error)\n        })\n    }\n\n    return (\n        <Modal\n            onCancel={setInvisible}\n            title={designer.firstName + \" \" + designer.lastName}\n            visible={visible}\n            footer={[\n                <Button onClick={onClick} type=\"primary\">\n                    {isAnonymous ? `Create An Account to Connect With ${designer.firstName}` : `Connect To ${designer.firstName}`}\n                </Button>]}\n        >\n            <Typography.Title level={3} underline>Our Evaluation</Typography.Title>\n            <Typography.Title level={4}>Overall Score: {grade.score}</Typography.Title>\n            <Typography.Text>\n                This score is out of 10. \n                To learn more about our scoring system, <a target={'_blank'} href={'https://sumpixel.com/manifesto'}>click here.</a>\n            </Typography.Text>\n            <Typography.Title level={4}>Response From Evaluator:</Typography.Title>\n            <Typography.Text>\n                {grade.response}\n            </Typography.Text>\n            <Typography.Title level={3} underline>{designer.firstName}'s Info</Typography.Title>\n            <div style={{display: 'flex', flexDirection: 'column'}}>\n                {_.map(_.keys(showInfo), (key) => {\n                    return (<Typography.Text>{key}: {showInfo[key]}{'\\n'}</Typography.Text>)\n                })}\n            </div>\n            <Button style={{marginTop: 10}} onClick={downloadResume}>\n                Download Resume\n            </Button>\n        </Modal>)\n}\n\nexport default DesignerInfoModal"]},"metadata":{},"sourceType":"module"}