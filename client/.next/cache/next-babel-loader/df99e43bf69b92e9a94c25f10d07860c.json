{"ast":null,"code":"import axios from 'axios';\nconst SERVER_BASE = 'https://sumpixel-server.herokuapp.com/';\nvar HTTP_Requests;\n\n(function (HTTP_Requests) {\n  HTTP_Requests[\"GET\"] = \"GET\";\n  HTTP_Requests[\"POST\"] = \"POST\";\n})(HTTP_Requests || (HTTP_Requests = {}));\n\nconst request = async (url, params, method = HTTP_Requests.GET) => {\n  var response;\n\n  switch (method) {\n    case HTTP_Requests.GET:\n      response = await axios.get(SERVER_BASE + url, {\n        params: params\n      });\n      break;\n\n    case HTTP_Requests.POST:\n      response = await axios.post(SERVER_BASE + url, params);\n      break;\n  }\n\n  if (response.status !== 200) {\n    return generateErrorResponse('The server responded with an unexpected status.');\n  }\n\n  const result = response.data;\n  return result;\n};\n\nconst objectToQueryString = obj => {\n  return Object.keys(obj).map(key => key + '=' + obj[key]).join('&');\n};\n\nconst generateErrorResponse = message => {\n  return {\n    status: 'error',\n    message\n  };\n};\n\nexport const didCompleteQuiz = async id => {\n  return await request('user-finished-quiz', {\n    id: id\n  });\n};\nexport const getUser = async id => {\n  return await request('get-user', {\n    id: id\n  });\n};\nexport const createUser = async user => {\n  return await request('create-user', user, HTTP_Requests.POST);\n};","map":{"version":3,"sources":["/Users/insanity/Documents/personalprojects/sumpixel-client/lib/server.tsx"],"names":["axios","SERVER_BASE","HTTP_Requests","request","url","params","method","GET","response","get","POST","post","status","generateErrorResponse","result","data","objectToQueryString","obj","Object","keys","map","key","join","message","didCompleteQuiz","id","getUser","createUser","user"],"mappings":"AACA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,MAAMC,WAAW,GAAG,wCAApB;IAEKC,a;;WAAAA,a;AAAAA,EAAAA,a;AAAAA,EAAAA,a;GAAAA,a,KAAAA,a;;AAKL,MAAMC,OAAO,GAAG,OAAOC,GAAP,EAAoBC,MAApB,EAA4BC,MAAqB,GAAGJ,aAAa,CAACK,GAAlE,KAA0E;AACtF,MAAIC,QAAJ;;AACA,UAAQF,MAAR;AACI,SAAKJ,aAAa,CAACK,GAAnB;AACIC,MAAAA,QAAQ,GAAG,MAAMR,KAAK,CAACS,GAAN,CAAUR,WAAW,GAAGG,GAAxB,EAA6B;AAACC,QAAAA,MAAM,EAAEA;AAAT,OAA7B,CAAjB;AACA;;AACJ,SAAKH,aAAa,CAACQ,IAAnB;AACIF,MAAAA,QAAQ,GAAG,MAAMR,KAAK,CAACW,IAAN,CAAWV,WAAW,GAAGG,GAAzB,EAA8BC,MAA9B,CAAjB;AACA;AANR;;AASA,MAAIG,QAAQ,CAACI,MAAT,KAAoB,GAAxB,EAA6B;AACzB,WAAOC,qBAAqB,CAAC,iDAAD,CAA5B;AACH;;AAED,QAAMC,MAAM,GAAGN,QAAQ,CAACO,IAAxB;AAEA,SAAOD,MAAP;AAEH,CAnBD;;AAqBA,MAAME,mBAAmB,GAAIC,GAAD,IAAS;AACjC,SAAOC,MAAM,CAACC,IAAP,CAAYF,GAAZ,EAAiBG,GAAjB,CAAqBC,GAAG,IAAIA,GAAG,GAAG,GAAN,GAAYJ,GAAG,CAACI,GAAD,CAA3C,EAAkDC,IAAlD,CAAuD,GAAvD,CAAP;AACH,CAFD;;AAIA,MAAMT,qBAAqB,GAAIU,OAAD,IAAa;AACvC,SAAO;AACHX,IAAAA,MAAM,EAAG,OADN;AAEHW,IAAAA;AAFG,GAAP;AAIH,CALD;;AAOA,OAAO,MAAMC,eAAe,GAAG,MAAOC,EAAP,IAAsB;AACjD,SAAO,MAAMtB,OAAO,CAAC,oBAAD,EAAuB;AAACsB,IAAAA,EAAE,EAAEA;AAAL,GAAvB,CAApB;AACH,CAFM;AAIP,OAAO,MAAMC,OAAO,GAAG,MAAOD,EAAP,IAAqC;AACxD,SAAO,MAAMtB,OAAO,CAAC,UAAD,EAAa;AAACsB,IAAAA,EAAE,EAAEA;AAAL,GAAb,CAApB;AACH,CAFM;AAIP,OAAO,MAAME,UAAU,GAAG,MAAOC,IAAP,IAAsB;AAC5C,SAAO,MAAMzB,OAAO,CAAC,aAAD,EAAgByB,IAAhB,EAAsB1B,aAAa,CAACQ,IAApC,CAApB;AACH,CAFM","sourcesContent":["import { User } from \"../model/model\";\nimport axios from 'axios';\n\nconst SERVER_BASE = 'https://sumpixel-server.herokuapp.com/'\n\nenum HTTP_Requests {\n    GET = 'GET',\n    POST = 'POST'\n}\n\nconst request = async (url: string, params, method: HTTP_Requests = HTTP_Requests.GET) => {\n    var response;\n    switch (method) {\n        case HTTP_Requests.GET:\n            response = await axios.get(SERVER_BASE + url, {params: params});\n            break;\n        case HTTP_Requests.POST:\n            response = await axios.post(SERVER_BASE + url, params);\n            break;\n    }\n\n    if (response.status !== 200) {\n        return generateErrorResponse('The server responded with an unexpected status.');\n    }\n\n    const result = response.data;\n\n    return result;\n\n}\n\nconst objectToQueryString = (obj) => {\n    return Object.keys(obj).map(key => key + '=' + obj[key]).join('&');\n}\n\nconst generateErrorResponse = (message) => {\n    return {\n        status : 'error',\n        message\n    };\n}\n\nexport const didCompleteQuiz = async (id: string) => {\n    return await request('user-finished-quiz', {id: id})\n}\n\nexport const getUser = async (id: string): Promise<User> => {\n    return await request('get-user', {id: id})\n}\n\nexport const createUser = async (user: User) => {\n    return await request('create-user', user, HTTP_Requests.POST)\n}"]},"metadata":{},"sourceType":"module"}