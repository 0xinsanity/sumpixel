{"ast":null,"code":"import React, { useEffect, useContext } from 'react';\nimport { Tabs } from 'antd';\nimport { Container } from '../components/General/Container';\nimport NavigationBar from '../components/Dashboard/NavigationBar';\nimport FormPersonalData from '../components/OnboardingFlow/Designers/FormPersonalData';\nimport ViewCommunications from '../components/Dashboard/Designer/ViewCommunications';\nimport { UserContext } from '../lib/UserProvider';\nimport { modifyUser } from '../lib/server';\nimport Head from 'next/head';\nimport { Background } from './dashboard_employer';\nimport OpenPage from '../components/General/OpenPage';\nconst {\n  TabPane\n} = Tabs;\n\nconst DashboardUser = props => {\n  const {\n    currentUser,\n    changeUser,\n    setLoading,\n    loading\n  } = useContext(UserContext);\n  useEffect(() => {\n    window.analytics.page('Designer Dashboard');\n    setTimeout(() => {\n      console.log('loadin' + loading);\n\n      if (loading) {\n        OpenPage(setLoading, '/');\n      }\n    }, 3000);\n  }, []);\n  useEffect(() => {\n    if (currentUser === undefined || currentUser === null) {\n      setLoading(true);\n    } else {\n      setLoading(false);\n    }\n  }, [currentUser]);\n\n  const updateUser = async updatedUser => {\n    window.analytics.track('Modify Designer');\n    changeUser(updatedUser);\n    await modifyUser(updatedUser);\n  };\n\n  if (currentUser === undefined || currentUser === null) {\n    return /*#__PURE__*/React.createElement(React.Fragment, null);\n  }\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Head, null, /*#__PURE__*/React.createElement(\"title\", null, \"Designer Dashboard\")), /*#__PURE__*/React.createElement(NavigationBar, {\n    isDesigner: true,\n    subtitle: `${currentUser.firstName}'s Dashboard`,\n    footer: /*#__PURE__*/React.createElement(Tabs, {\n      defaultActiveKey: \"1\"\n    }, /*#__PURE__*/React.createElement(TabPane, {\n      tab: \"Communications\",\n      key: \"1\"\n    }, /*#__PURE__*/React.createElement(Background, null, /*#__PURE__*/React.createElement(Container, {\n      isDashboard: true\n    }, /*#__PURE__*/React.createElement(ViewCommunications, null)))), /*#__PURE__*/React.createElement(TabPane, {\n      tab: \"Modify Profile\",\n      key: \"2\"\n    }, /*#__PURE__*/React.createElement(Background, null, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        display: 'flex',\n        padding: 40,\n        justifyContent: 'left'\n      }\n    }, /*#__PURE__*/React.createElement(FormPersonalData, {\n      changeCurrentUser: updateUser,\n      modifyProfile: true\n    })))))\n  }));\n};\n\nexport default DashboardUser;","map":{"version":3,"sources":["/Users/insanity/Documents/personalprojects/sumpixel/client/pages/dashboard_user.tsx"],"names":["React","useEffect","useContext","Tabs","Container","NavigationBar","FormPersonalData","ViewCommunications","UserContext","modifyUser","Head","Background","OpenPage","TabPane","DashboardUser","props","currentUser","changeUser","setLoading","loading","window","analytics","page","setTimeout","console","log","undefined","updateUser","updatedUser","track","firstName","display","padding","justifyContent"],"mappings":"AAAA,OAAOA,KAAP,IAAeC,SAAf,EAAoCC,UAApC,QAAqD,OAArD;AACA,SAAQC,IAAR,QAAyB,MAAzB;AAEA,SAAQC,SAAR,QAAwB,iCAAxB;AACA,OAAOC,aAAP,MAA0B,uCAA1B;AACA,OAAOC,gBAAP,MAA6B,yDAA7B;AACA,OAAOC,kBAAP,MAA+B,qDAA/B;AACA,SAAQC,WAAR,QAA0B,qBAA1B;AAEA,SAAQC,UAAR,QAAyB,eAAzB;AACA,OAAOC,IAAP,MAAiB,WAAjB;AACA,SAAQC,UAAR,QAAyB,sBAAzB;AACA,OAAOC,QAAP,MAAqB,gCAArB;AACA,MAAM;AAACC,EAAAA;AAAD,IAAYV,IAAlB;;AAQA,MAAMW,aAAuB,GAAIC,KAAD,IAAW;AACvC,QAAM;AAACC,IAAAA,WAAD;AAAcC,IAAAA,UAAd;AAA0BC,IAAAA,UAA1B;AAAsCC,IAAAA;AAAtC,MAAkDjB,UAAU,CAACM,WAAD,CAAlE;AAEAP,EAAAA,SAAS,CAAC,MAAM;AACZmB,IAAAA,MAAM,CAACC,SAAP,CAAiBC,IAAjB,CAAsB,oBAAtB;AACAC,IAAAA,UAAU,CAAC,MAAM;AACbC,MAAAA,OAAO,CAACC,GAAR,CAAY,WAAWN,OAAvB;;AACA,UAAIA,OAAJ,EAAa;AACTP,QAAAA,QAAQ,CAACM,UAAD,EAAa,GAAb,CAAR;AACH;AACJ,KALS,EAKP,IALO,CAAV;AAMH,GARQ,EAQN,EARM,CAAT;AAUAjB,EAAAA,SAAS,CAAC,MAAM;AACZ,QAAIe,WAAW,KAAKU,SAAhB,IAA6BV,WAAW,KAAK,IAAjD,EAAuD;AACnDE,MAAAA,UAAU,CAAC,IAAD,CAAV;AACH,KAFD,MAEO;AACHA,MAAAA,UAAU,CAAC,KAAD,CAAV;AACH;AACJ,GANQ,EAMN,CAACF,WAAD,CANM,CAAT;;AAQA,QAAMW,UAAU,GAAG,MAAOC,WAAP,IAA6B;AAC5CR,IAAAA,MAAM,CAACC,SAAP,CAAiBQ,KAAjB,CAAuB,iBAAvB;AACAZ,IAAAA,UAAU,CAACW,WAAD,CAAV;AACA,UAAMnB,UAAU,CAACmB,WAAD,CAAhB;AACH,GAJD;;AAMA,MAAIZ,WAAW,KAAKU,SAAhB,IAA6BV,WAAW,KAAK,IAAjD,EAAuD;AACnD,wBAAQ,yCAAR;AACH;;AAED,sBACI,uDACI,oBAAC,IAAD,qBACI,wDADJ,CADJ,eAII,oBAAC,aAAD;AACI,IAAA,UAAU,EAAE,IADhB;AAEI,IAAA,QAAQ,EAAG,GAAEA,WAAW,CAACc,SAAU,cAFvC;AAGI,IAAA,MAAM,eACE,oBAAC,IAAD;AAAM,MAAA,gBAAgB,EAAC;AAAvB,oBACI,oBAAC,OAAD;AAAS,MAAA,GAAG,EAAE,gBAAd;AAAgC,MAAA,GAAG,EAAE;AAArC,oBACI,oBAAC,UAAD,qBACI,oBAAC,SAAD;AAAW,MAAA,WAAW,EAAE;AAAxB,oBACI,oBAAC,kBAAD,OADJ,CADJ,CADJ,CADJ,eAQI,oBAAC,OAAD;AAAS,MAAA,GAAG,EAAE,gBAAd;AAAgC,MAAA,GAAG,EAAE;AAArC,oBACI,oBAAC,UAAD,qBACI;AAAK,MAAA,KAAK,EAAE;AAACC,QAAAA,OAAO,EAAE,MAAV;AAAkBC,QAAAA,OAAO,EAAE,EAA3B;AAA+BC,QAAAA,cAAc,EAAE;AAA/C;AAAZ,oBACI,oBAAC,gBAAD;AAAkB,MAAA,iBAAiB,EAAEN,UAArC;AAAiD,MAAA,aAAa,EAAE;AAAhE,MADJ,CADJ,CADJ,CARJ;AAJZ,IAJJ,CADJ;AA6BH,CA5DD;;AA8DA,eAAeb,aAAf","sourcesContent":["import React, {useEffect, useState, useContext} from 'react'\nimport {Tabs, Spin} from 'antd'\nimport Loading from '../components/General/Loading'\nimport {Container} from '../components/General/Container'\nimport NavigationBar from '../components/Dashboard/NavigationBar'\nimport FormPersonalData from '../components/OnboardingFlow/Designers/FormPersonalData'\nimport ViewCommunications from '../components/Dashboard/Designer/ViewCommunications'\nimport {UserContext} from '../lib/UserProvider'\nimport {User} from '../model/model'\nimport {modifyUser} from '../lib/server'\nimport Head from 'next/head'\nimport {Background} from './dashboard_employer'\nimport OpenPage from '../components/General/OpenPage'\nconst {TabPane} = Tabs\n\ninterface TabWithCeilingProps {\n    tab: string;\n    key: string;\n    children: React.ReactNode\n}\n\nconst DashboardUser: React.FC = (props) => {\n    const {currentUser, changeUser, setLoading, loading}  = useContext(UserContext)\n\n    useEffect(() => {\n        window.analytics.page('Designer Dashboard')\n        setTimeout(() => {\n            console.log('loadin' + loading)\n            if (loading) {\n                OpenPage(setLoading, '/')\n            }\n        }, 3000)\n    }, [])\n\n    useEffect(() => {\n        if (currentUser === undefined || currentUser === null) {\n            setLoading(true)\n        } else {\n            setLoading(false)\n        }\n    }, [currentUser])\n\n    const updateUser = async (updatedUser: User) => {\n        window.analytics.track('Modify Designer');\n        changeUser(updatedUser)\n        await modifyUser(updatedUser)\n    }\n\n    if (currentUser === undefined || currentUser === null) {\n        return (<></>)\n    }\n\n    return (\n        <>\n            <Head>\n                <title>Designer Dashboard</title>\n            </Head>\n            <NavigationBar \n                isDesigner={true}\n                subtitle={`${currentUser.firstName}'s Dashboard`} \n                footer={\n                        <Tabs defaultActiveKey=\"1\">\n                            <TabPane tab={\"Communications\"} key={\"1\"}>\n                                <Background>\n                                    <Container isDashboard={true}>\n                                        <ViewCommunications/>\n                                    </Container>\n                                </Background>\n                            </TabPane>\n                            <TabPane tab={\"Modify Profile\"} key={\"2\"}>\n                                <Background>\n                                    <div style={{display: 'flex', padding: 40, justifyContent: 'left'}}>\n                                        <FormPersonalData changeCurrentUser={updateUser} modifyProfile={true} />\n                                    </div>\n                                </Background>\n                            </TabPane>\n                        </Tabs>\n                }\n            />\n        </>\n    );\n};\n\nexport default DashboardUser;"]},"metadata":{},"sourceType":"module"}