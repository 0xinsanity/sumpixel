{"ast":null,"code":"import React, { useState } from 'react';\nimport { Form, Input, Button, Row, Select, message } from 'antd';\nimport { storage_ref } from '../../lib/firebase';\nconst {\n  Option\n} = Select;\nexport const Form2 = props => {\n  const {\n    currentUser,\n    changeCurrentUser,\n    changeStep\n  } = props;\n  const [fileList, updateFileList] = useState([]);\n  const [form] = Form.useForm();\n\n  const goBack = () => {\n    changeStep(-1);\n  };\n\n  const onFinish = values => {\n    const res = values.resume.file;\n    storage_ref.child('resumes/' + currentUser.firebaseId + '.pdf').put(res[\"originFileObj\"]).then(snapshot => {\n      console.log(\"Uploaded File\");\n      const newUser = {\n        email: currentUser.email,\n        firebaseId: currentUser.firebaseId,\n        firstName: currentUser.firstName,\n        lastName: currentUser.lastName,\n        phoneNumber: currentUser.phoneNumber,\n        location: currentUser.location,\n        salary: currentUser.salary,\n        portfolio: currentUser.portfolio,\n        visa: currentUser.visa,\n        resume: currentUser.resume,\n        linkedin: values.linkedin,\n        dribbble: values.dribbble\n      };\n      changeCurrentUser(newUser);\n      changeStep(1);\n    });\n  };\n\n  const onFinishFailed = () => {\n    message.error('There was an error completing your account. Ensure every field is filled out.');\n  };\n\n  return /*#__PURE__*/React.createElement(Form, {\n    name: \"basic\",\n    initialValues: {\n      remember: true\n    },\n    onFinish: onFinish,\n    onFinishFailed: onFinishFailed\n  }, /*#__PURE__*/React.createElement(Form.Item, {\n    label: \"LinkedIn\",\n    name: \"linkedin\",\n    rules: [{\n      required: true,\n      message: 'LinkedIn is required'\n    }]\n  }, /*#__PURE__*/React.createElement(Input, {\n    placeholder: \"\"\n  })), /*#__PURE__*/React.createElement(Form.Item, {\n    label: \"Dribbble\",\n    name: \"dribbble\",\n    rules: [{\n      required: true,\n      message: 'Dribbble is required'\n    }]\n  }, /*#__PURE__*/React.createElement(Input, {\n    placeholder: \"\"\n  })), /*#__PURE__*/React.createElement(Form.Item, null, /*#__PURE__*/React.createElement(Row, {\n    justify: \"end\",\n    align: \"middle\"\n  }, /*#__PURE__*/React.createElement(Button, {\n    type: \"default\",\n    onClick: goBack\n  }, \"Go Back\")), /*#__PURE__*/React.createElement(Row, {\n    justify: \"end\",\n    align: \"middle\"\n  }, /*#__PURE__*/React.createElement(Button, {\n    type: \"primary\",\n    htmlType: \"submit\"\n  }, \"Next Page\"))));\n};","map":{"version":3,"sources":["/Users/insanity/Documents/personalprojects/sumpixel-onboarding/components/OnboardingFlow/Form2.tsx"],"names":["React","useState","Form","Input","Button","Row","Select","message","storage_ref","Option","Form2","props","currentUser","changeCurrentUser","changeStep","fileList","updateFileList","form","useForm","goBack","onFinish","values","res","resume","file","child","firebaseId","put","then","snapshot","console","log","newUser","email","firstName","lastName","phoneNumber","location","salary","portfolio","visa","linkedin","dribbble","onFinishFailed","error","remember","required"],"mappings":"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","sourcesContent":["import React, {useState} from 'react'\nimport { Form, Input, Button, Checkbox, Row, Col, Select, Upload, message } from 'antd';\nimport { UploadOutlined } from '@ant-design/icons';\nimport _ from 'lodash'\nimport {User, VisaStatus} from '../../model/model'\nimport FormProps from './FormProps'\nimport {UploadFile} from 'antd/lib/upload/interface'\nimport {storage_ref} from '../../lib/firebase'\nconst {Option} = Select\n\nexport const Form2: React.FC<FormProps> = (props) => {\n    const {currentUser, changeCurrentUser, changeStep} = props\n    const [fileList, updateFileList] = useState<UploadFile[]>([])\n    const [form] = Form.useForm();\n\n    const goBack = () => {\n        changeStep(-1)\n    }\n\n    const onFinish = (values) => {\n        const res = values.resume.file\n        storage_ref.child('resumes/' + currentUser.firebaseId + '.pdf').put(res[\"originFileObj\"]).then((snapshot) => {\n            console.log(\"Uploaded File\")\n            const newUser = {\n                email: currentUser.email,\n                firebaseId: currentUser.firebaseId,\n                firstName: currentUser.firstName,\n                lastName: currentUser.lastName,\n                phoneNumber: currentUser.phoneNumber,\n                location: currentUser.location,\n                salary: currentUser.salary,\n                portfolio: currentUser.portfolio,\n                visa: currentUser.visa,\n                resume: currentUser.resume,\n                linkedin: values.linkedin,\n                dribbble: values.dribbble,\n            }\n            changeCurrentUser(newUser)\n            changeStep(1)\n        })\n    }\n\n    const onFinishFailed = () => {\n        message.error('There was an error completing your account. Ensure every field is filled out.')\n    }\n\n    return (\n        <Form\n            name=\"basic\"\n            initialValues={{ remember: true }}\n            onFinish={onFinish}\n            onFinishFailed={onFinishFailed}\n        >\n            <Form.Item\n                label=\"LinkedIn\"\n                name=\"linkedin\"\n                rules={[{ required: true, message: 'LinkedIn is required' }]}\n            >\n                <Input placeholder=\"\"/>\n            </Form.Item>\n\n            <Form.Item\n                label=\"Dribbble\"\n                name=\"dribbble\"\n                rules={[{ required: true, message: 'Dribbble is required' }]}\n            >\n                <Input placeholder=\"\"/>\n            </Form.Item>\n\n            <Form.Item>\n                <Row justify=\"end\" align=\"middle\">\n                    <Button type=\"default\" onClick={goBack}>\n                        Go Back\n                    </Button>\n                </Row>\n                <Row justify=\"end\" align=\"middle\">\n                    <Button type=\"primary\" htmlType=\"submit\">\n                        Next Page\n                    </Button>\n                </Row>\n            </Form.Item>\n        </Form>\n    );\n}"]},"metadata":{},"sourceType":"module"}