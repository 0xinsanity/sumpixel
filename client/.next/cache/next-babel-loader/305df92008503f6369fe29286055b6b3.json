{"ast":null,"code":"import React, { useContext, useState, useEffect } from 'react';\nimport { UserContext } from '../../../lib/UserProvider';\nimport { updateEmployerDecision, getEmployerCommunicationsList } from '../../../lib/server';\nimport { message } from 'antd';\nimport EmployerCommList from './EmployerCommList';\n\nconst ManageCommunications = props => {\n  const {\n    currentUser\n  } = useContext(UserContext);\n  const [commList, setCommList] = useState(undefined);\n\n  const updateDecision = async (commId, update) => {\n    window.analytics.track(currentUser.companyName + ' updated Decision on Designer - ' + update);\n    await updateEmployerDecision(commId, update);\n    message.success(\"Updated Decision\");\n    setCommList((await getEmployerCommunicationsList(currentUser.id)));\n  };\n\n  useEffect(() => {\n    getEmployerCommunicationsList(currentUser.id).then(commList => {\n      setCommList(commList);\n    });\n  }, []);\n  return /*#__PURE__*/React.createElement(EmployerCommList, {\n    communicationList: commList,\n    updateDecision: updateDecision\n  });\n};\n\nexport default ManageCommunications;","map":{"version":3,"sources":["/Users/insanity/Documents/Sumpixel/sumpixel/client/components/Dashboard/Employer/ManageCommunications.tsx"],"names":["React","useContext","useState","useEffect","UserContext","updateEmployerDecision","getEmployerCommunicationsList","message","EmployerCommList","ManageCommunications","props","currentUser","commList","setCommList","undefined","updateDecision","commId","update","window","analytics","track","companyName","success","id","then"],"mappings":"AAAA,OAAOA,KAAP,IAAeC,UAAf,EAA2BC,QAA3B,EAAqCC,SAArC,QAAqD,OAArD;AACA,SAAQC,WAAR,QAA0B,2BAA1B;AAEA,SAASC,sBAAT,EAAiCC,6BAAjC,QAAsE,qBAAtE;AACA,SAAQC,OAAR,QAAsB,MAAtB;AAEA,OAAOC,gBAAP,MAA6B,oBAA7B;;AAEA,MAAMC,oBAA8B,GAAIC,KAAD,IAAW;AAC9C,QAAM;AAACC,IAAAA;AAAD,MAAiBV,UAAU,CAACG,WAAD,CAAjC;AACA,QAAM,CAACQ,QAAD,EAAWC,WAAX,IAA0BX,QAAQ,CAAgCY,SAAhC,CAAxC;;AAEA,QAAMC,cAAc,GAAG,OAAOC,MAAP,EAAuBC,MAAvB,KAAwD;AAC3EC,IAAAA,MAAM,CAACC,SAAP,CAAiBC,KAAjB,CAAwBT,WAAD,CAA0BU,WAA1B,GAAwC,kCAAxC,GAA6EJ,MAApG;AACA,UAAMZ,sBAAsB,CAACW,MAAD,EAASC,MAAT,CAA5B;AACAV,IAAAA,OAAO,CAACe,OAAR,CAAgB,kBAAhB;AACAT,IAAAA,WAAW,EAAC,MAAMP,6BAA6B,CAACK,WAAW,CAACY,EAAb,CAApC,EAAX;AACH,GALD;;AAOApB,EAAAA,SAAS,CAAC,MAAM;AACZG,IAAAA,6BAA6B,CAACK,WAAW,CAACY,EAAb,CAA7B,CAA8CC,IAA9C,CAAoDZ,QAAD,IAAiC;AAChFC,MAAAA,WAAW,CAACD,QAAD,CAAX;AACH,KAFD;AAGH,GAJQ,EAIN,EAJM,CAAT;AAMA,sBAAQ,oBAAC,gBAAD;AAAkB,IAAA,iBAAiB,EAAEA,QAArC;AAA+C,IAAA,cAAc,EAAEG;AAA/D,IAAR;AACH,CAlBD;;AAoBA,eAAeN,oBAAf","sourcesContent":["import React, {useContext, useState, useEffect} from 'react'\nimport {UserContext} from '../../../lib/UserProvider'\nimport { CommForEmployer, EmployerDecisionHire } from '../../../model/model'\nimport { updateEmployerDecision, getEmployerCommunicationsList } from '../../../lib/server'\nimport {message} from 'antd'\nimport {Employer} from '../../../model/model'\nimport EmployerCommList from './EmployerCommList'\n\nconst ManageCommunications: React.FC = (props) => {\n    const {currentUser}  = useContext(UserContext)\n    const [commList, setCommList] = useState<CommForEmployer[] | undefined>(undefined)\n\n    const updateDecision = async (commId: string, update: EmployerDecisionHire) => {\n        window.analytics.track((currentUser as Employer).companyName + ' updated Decision on Designer - ' + update);\n        await updateEmployerDecision(commId, update)\n        message.success(\"Updated Decision\")\n        setCommList(await getEmployerCommunicationsList(currentUser.id))\n    }\n\n    useEffect(() => {\n        getEmployerCommunicationsList(currentUser.id).then((commList: CommForEmployer[]) => {\n            setCommList(commList)\n        })\n    }, [])\n\n    return (<EmployerCommList communicationList={commList} updateDecision={updateDecision}/>)\n}\n\nexport default ManageCommunications"]},"metadata":{},"sourceType":"module"}