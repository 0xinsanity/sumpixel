{"ast":null,"code":"import React, { useEffect, useState } from 'react';\nimport Router, { useRouter } from 'next/router';\nimport SimpleNavigationBar from '../../components/Profile/SimpleNavigationBar';\nimport Head from 'next/head';\nimport Loading from '../../components/General/Loading';\nimport { getUser } from '../../lib/server';\n\nconst Profile = () => {\n  const router = useRouter();\n  console.log(router.query);\n  const {\n    profile_id\n  } = router.query;\n  const [currentProfile, changeCurrentProfile] = useState(undefined);\n  const [profileString, changeProfileString] = useState('Profile');\n  useEffect(() => {\n    if (profile_id === undefined) {\n      return;\n    }\n\n    console.log(profile_id);\n    getUser(profile_id).then(profile => {\n      changeCurrentProfile(profile);\n      changeProfileString(currentProfile.firstName + \" \" + currentProfile.lastName + '\\'s Profile');\n      window.analytics.page(profileString);\n    }).catch(error => {\n      console.error(error); // Profile does not exist\n\n      Router.push('/');\n    });\n  }, [profile_id]);\n\n  if (currentProfile === undefined || currentProfile === null) {\n    return /*#__PURE__*/React.createElement(Loading, null);\n  }\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Head, null, /*#__PURE__*/React.createElement(\"title\", null, profileString)), /*#__PURE__*/React.createElement(SimpleNavigationBar, {\n    subtitle: profileString\n  }));\n};\n\nexport default Profile;","map":{"version":3,"sources":["/Users/insanity/Documents/personalprojects/sumpixel/client/pages/profile/[profile_id].tsx"],"names":["React","useEffect","useState","Router","useRouter","SimpleNavigationBar","Head","Loading","getUser","Profile","router","console","log","query","profile_id","currentProfile","changeCurrentProfile","undefined","profileString","changeProfileString","then","profile","firstName","lastName","window","analytics","page","catch","error","push"],"mappings":"AAAA,OAAOA,KAAP,IAAeC,SAAf,EAA0BC,QAA1B,QAAyC,OAAzC;AACA,OAAOC,MAAP,IAAiBC,SAAjB,QAAkC,aAAlC;AACA,OAAOC,mBAAP,MAAgC,8CAAhC;AACA,OAAOC,IAAP,MAAiB,WAAjB;AAEA,OAAOC,OAAP,MAAoB,kCAApB;AACA,SAAQC,OAAR,QAAsB,kBAAtB;;AAEA,MAAMC,OAAiB,GAAG,MAAM;AAC5B,QAAMC,MAAM,GAAGN,SAAS,EAAxB;AACAO,EAAAA,OAAO,CAACC,GAAR,CAAYF,MAAM,CAACG,KAAnB;AACA,QAAM;AAAEC,IAAAA;AAAF,MAAiBJ,MAAM,CAACG,KAA9B;AACA,QAAM,CAACE,cAAD,EAAiBC,oBAAjB,IAA0Cd,QAAQ,CAAOe,SAAP,CAAxD;AACA,QAAM,CAACC,aAAD,EAAgBC,mBAAhB,IAAuCjB,QAAQ,CAAS,SAAT,CAArD;AAEAD,EAAAA,SAAS,CAAC,MAAM;AACZ,QAAIa,UAAU,KAAKG,SAAnB,EAA8B;AAC1B;AACH;;AAEDN,IAAAA,OAAO,CAACC,GAAR,CAAYE,UAAZ;AACAN,IAAAA,OAAO,CAACM,UAAD,CAAP,CAA8BM,IAA9B,CAAoCC,OAAD,IAAmB;AAClDL,MAAAA,oBAAoB,CAACK,OAAD,CAApB;AACAF,MAAAA,mBAAmB,CAACJ,cAAc,CAACO,SAAf,GAA2B,GAA3B,GAAiCP,cAAc,CAACQ,QAAhD,GAA2D,aAA5D,CAAnB;AACAC,MAAAA,MAAM,CAACC,SAAP,CAAiBC,IAAjB,CAAsBR,aAAtB;AACH,KAJD,EAIGS,KAJH,CAIUC,KAAD,IAAW;AAChBjB,MAAAA,OAAO,CAACiB,KAAR,CAAcA,KAAd,EADgB,CAEhB;;AACAzB,MAAAA,MAAM,CAAC0B,IAAP,CAAY,GAAZ;AACH,KARD;AASH,GAfQ,EAeN,CAACf,UAAD,CAfM,CAAT;;AAiBA,MAAIC,cAAc,KAAKE,SAAnB,IAAgCF,cAAc,KAAK,IAAvD,EAA6D;AACzD,wBAAQ,oBAAC,OAAD,OAAR;AACH;;AAED,sBAAQ,uDACI,oBAAC,IAAD,qBACI,mCAAQG,aAAR,CADJ,CADJ,eAII,oBAAC,mBAAD;AACI,IAAA,QAAQ,EAAEA;AADd,IAJJ,CAAR;AAUH,CAtCD;;AAwCA,eAAeT,OAAf","sourcesContent":["import React, {useEffect, useState} from 'react'\nimport Router, { useRouter } from 'next/router'\nimport SimpleNavigationBar from '../../components/Profile/SimpleNavigationBar'\nimport Head from 'next/head'\nimport {User} from '../../model/model'\nimport Loading from '../../components/General/Loading'\nimport {getUser} from '../../lib/server'\n\nconst Profile: React.FC = () => {\n    const router = useRouter()\n    console.log(router.query)\n    const { profile_id } = router.query\n    const [currentProfile, changeCurrentProfile]  = useState<User>(undefined)\n    const [profileString, changeProfileString] = useState<string>('Profile')\n\n    useEffect(() => {\n        if (profile_id === undefined) {\n            return\n        }\n\n        console.log(profile_id)\n        getUser(profile_id as string).then((profile: User) => {\n            changeCurrentProfile(profile)\n            changeProfileString(currentProfile.firstName + \" \" + currentProfile.lastName + '\\'s Profile')\n            window.analytics.page(profileString)\n        }).catch((error) => {\n            console.error(error)\n            // Profile does not exist\n            Router.push('/')\n        })\n    }, [profile_id])\n\n    if (currentProfile === undefined || currentProfile === null) {\n        return (<Loading />)\n    }\n\n    return (<>\n                <Head>\n                    <title>{profileString}</title>\n                </Head>\n                <SimpleNavigationBar \n                    subtitle={profileString}\n                >\n                    \n                </SimpleNavigationBar>\n            </>)\n}\n\nexport default Profile"]},"metadata":{},"sourceType":"module"}