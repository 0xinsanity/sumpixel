{"ast":null,"code":"import React, { useContext, useState } from 'react';\nimport { createCommunication } from '../../../lib/server';\nimport { UNIVERSAL_COLOR } from '../../../model/model';\nimport { UserContext } from '../../../lib/UserProvider';\nimport { Table, Typography } from 'antd';\nimport DesignerInfoModal from './DesignerInfoModal';\nimport styled from 'styled-components';\nimport { BigBlackButton } from '../../General/BigBlackButton';\nconst {\n  Column\n} = Table;\nconst NameTitle = styled(Typography)`\n    color: #000000;\n    font-family: 'Mark Pro Bold';\n    font-size: 16px;\n`;\nconst ResponseTitle = styled(Typography)`\n    color: #000000;\n    opacity: 0.5;\n    font-size; 14px;\n    font-family: 'Mark Pro';\n`;\n\nconst DesignerList = props => {\n  const {\n    currentUser,\n    changeUser\n  } = useContext(UserContext);\n  const {\n    designerList\n  } = props;\n  const [showModal, setModalVisibility] = useState(false);\n  const [currentDesigner, setCurrentDesigner] = useState(undefined);\n\n  const onMoreInfo = user => {\n    setCurrentDesigner(user);\n    setModalVisibility(true);\n  };\n\n  const onConnect = async designerId => {\n    window.analytics.track(currentUser.companyName + ' connects to designer');\n    const comm = await createCommunication(designerId, currentUser.id);\n    setModalVisibility(false);\n    const newUser = { ...currentUser,\n      communications: [...currentUser.communications, comm.id]\n    };\n    changeUser(newUser);\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(DesignerInfoModal, {\n    setInvisible: () => setModalVisibility(false),\n    visible: showModal,\n    designer: currentDesigner,\n    onConnect: onConnect\n  }), /*#__PURE__*/React.createElement(Table, {\n    style: {\n      paddingBottom: 10,\n      width: '100%',\n      fontFamily: 'Mark Pro Bold',\n      fontWeight: 'normal'\n    },\n    size: \"large\",\n    dataSource: designerList,\n    bordered: false\n  }, /*#__PURE__*/React.createElement(Column, {\n    width: '35%',\n    title: \"Name\",\n    dataIndex: \"name_feedback\",\n    key: \"name_feedback\",\n    render: name_feedback => /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(NameTitle, null, name_feedback[0]), /*#__PURE__*/React.createElement(ResponseTitle, null, name_feedback[1]))\n  }), /*#__PURE__*/React.createElement(Column, {\n    onCell: (data, index) => ({\n      style: {\n        color: UNIVERSAL_COLOR,\n        fontWeight: 700\n      }\n    }),\n    align: 'center',\n    title: \"Score\",\n    dataIndex: \"score\",\n    key: \"score\"\n  }), /*#__PURE__*/React.createElement(Column, {\n    align: 'center',\n    title: \"Expiration\",\n    dataIndex: \"expiration\",\n    key: \"expiration\"\n  }), /*#__PURE__*/React.createElement(Column, {\n    align: 'center',\n    title: \"Primary Skill\",\n    dataIndex: \"primary_skill\",\n    key: \"primary_skill\"\n  }), /*#__PURE__*/React.createElement(Column, {\n    align: 'center',\n    title: \"Contact\",\n    dataIndex: \"contact\",\n    key: \"contact\",\n    render: contact => /*#__PURE__*/React.createElement(BigBlackButton, {\n      onClick: () => onMoreInfo(contact)\n    }, \"Request Call\")\n  })));\n};\n\nexport default DesignerList;","map":{"version":3,"sources":["/Users/insanity/Documents/personalprojects/sumpixel/client/components/Dashboard/Employer/DesignerList.tsx"],"names":["React","useContext","useState","createCommunication","UNIVERSAL_COLOR","UserContext","Table","Typography","DesignerInfoModal","styled","BigBlackButton","Column","NameTitle","ResponseTitle","DesignerList","props","currentUser","changeUser","designerList","showModal","setModalVisibility","currentDesigner","setCurrentDesigner","undefined","onMoreInfo","user","onConnect","designerId","window","analytics","track","companyName","comm","id","newUser","communications","paddingBottom","width","fontFamily","fontWeight","name_feedback","data","index","style","color","contact"],"mappings":"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","sourcesContent":["import React, {useEffect, useContext, useState} from 'react'\nimport { createCommunication } from '../../../lib/server'\nimport { User, Employer, UNIVERSAL_COLOR } from '../../../model/model'\nimport {UserContext} from '../../../lib/UserProvider'\nimport {Container} from '../../General/Container'\nimport Loading from '../../General/Loading'\nimport {Table, Button, Typography} from 'antd'\nimport DesignerInfoModal from './DesignerInfoModal'\nimport styled from 'styled-components'\nimport {BigBlackButton} from '../../General/BigBlackButton'\nconst {Column} = Table\n\nconst NameTitle = styled(Typography)`\n    color: #000000;\n    font-family: 'Mark Pro Bold';\n    font-size: 16px;\n`\n\nconst ResponseTitle = styled(Typography)`\n    color: #000000;\n    opacity: 0.5;\n    font-size; 14px;\n    font-family: 'Mark Pro';\n`\n\n\nexport interface FindDesignerListType {\n    name_feedback: string[],\n    score: number,\n    expiration: string,\n    primary_skill: string,\n    contact: User\n}\n\ninterface DesignerListProps {\n    designerList: FindDesignerListType[]\n}\n\nconst DesignerList: React.FC<DesignerListProps> = (props) => {\n    const {currentUser, changeUser}  = useContext(UserContext)\n    const {designerList} = props\n    const [showModal, setModalVisibility] = useState(false) \n    const [currentDesigner, setCurrentDesigner] = useState<User>(undefined) \n\n    const onMoreInfo = (user: User) => {\n        setCurrentDesigner(user)\n        setModalVisibility(true)\n    }\n\n    const onConnect = async (designerId: string) => {\n        window.analytics.track((currentUser as Employer).companyName + ' connects to designer');\n        const comm = await createCommunication(designerId, currentUser.id)\n        setModalVisibility(false)\n        const newUser = {...currentUser, communications: [...currentUser.communications, comm.id]}\n        changeUser(newUser)\n    }\n\n    return (\n        <>\n            <DesignerInfoModal setInvisible={() => setModalVisibility(false)}\n                                visible={showModal}\n                               designer={currentDesigner}\n                               onConnect={onConnect}/>\n            <Table\n                style={{paddingBottom: 10, width: '100%', fontFamily: 'Mark Pro Bold', fontWeight: 'normal'}}\n                size={\"large\"}\n                dataSource={designerList}\n                bordered={false}\n            >\n                <Column width={'35%'} title=\"Name\" dataIndex=\"name_feedback\" key=\"name_feedback\" render={(name_feedback) => (\n                    <>\n                        <NameTitle>{name_feedback[0]}</NameTitle>\n                        <ResponseTitle>{name_feedback[1]}</ResponseTitle>\n                    </>\n                )}/>\n                <Column onCell={(data, index) => ({style: {color: UNIVERSAL_COLOR, fontWeight: 700}})} align={'center'} title=\"Score\" dataIndex=\"score\" key=\"score\" />\n                <Column align={'center'} title=\"Expiration\" dataIndex=\"expiration\" key=\"expiration\" />\n                <Column align={'center'} title=\"Primary Skill\" dataIndex=\"primary_skill\" key=\"primary_skill\" />\n                <Column align={'center'} title=\"Contact\" dataIndex=\"contact\" key=\"contact\" render={(contact) => (\n                    <BigBlackButton onClick={() => onMoreInfo(contact)}>\n                        Request Call\n                    </BigBlackButton>\n                )} />\n            </Table>\n        </>)\n}\n\nexport default DesignerList"]},"metadata":{},"sourceType":"module"}