{"ast":null,"code":"import React, { useEffect } from 'react';\nimport StyledFirebaseAuth from 'react-firebaseui/StyledFirebaseAuth';\nimport { myFirebase } from '../lib/firebase';\nimport { getUser, getEmployer } from '../lib/server';\nimport Router from 'next/router';\nimport * as firebase from 'firebase/app';\nconst AuthConfig = {\n  callbacks: {\n    signInSuccessWithAuthResult: () => false\n  },\n  signInOptions: [firebase.auth.EmailAuthProvider.PROVIDER_ID]\n};\n\nconst Index = () => {\n  useEffect(() => {\n    async function findUser() {\n      const user = await getUser(myFirebase.auth().currentUser.uid);\n      const employer = await getEmployer(myFirebase.auth().currentUser.uid);\n\n      if (user['user_exists'] == undefined) {\n        Router.replace('/dashboard_user');\n      } else if (employer['employer_exists'] == undefined) {\n        Router.replace('/dashboard_employer');\n      } else {\n        Router.replace('/signup');\n      }\n    }\n\n    findUser();\n  }, [myFirebase.auth().currentUser]);\n  return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(StyledFirebaseAuth, {\n    uiConfig: AuthConfig,\n    firebaseAuth: myFirebase.auth()\n  }));\n};\n\nexport default Index;","map":{"version":3,"sources":["/Users/insanity/Documents/personalprojects/sumpixel-client/pages/index.tsx"],"names":["React","useEffect","StyledFirebaseAuth","myFirebase","getUser","getEmployer","Router","firebase","AuthConfig","callbacks","signInSuccessWithAuthResult","signInOptions","auth","EmailAuthProvider","PROVIDER_ID","Index","findUser","user","currentUser","uid","employer","undefined","replace"],"mappings":"AAAA,OAAOA,KAAP,IAAeC,SAAf,QAAyC,OAAzC;AACA,OAAOC,kBAAP,MAA+B,qCAA/B;AACA,SAAQC,UAAR,QAAyB,iBAAzB;AAEA,SAAQC,OAAR,EAAiBC,WAAjB,QAAmC,eAAnC;AACA,OAAOC,MAAP,MAAmB,aAAnB;AACA,OAAO,KAAKC,QAAZ,MAA0B,cAA1B;AAEA,MAAMC,UAAU,GAAG;AACfC,EAAAA,SAAS,EAAE;AACPC,IAAAA,2BAA2B,EAAE,MAAM;AAD5B,GADI;AAIfC,EAAAA,aAAa,EAAE,CACXJ,QAAQ,CAACK,IAAT,CAAcC,iBAAd,CAAgCC,WADrB;AAJA,CAAnB;;AASA,MAAMC,KAAe,GAAG,MAAM;AAE1Bd,EAAAA,SAAS,CAAC,MAAM;AACZ,mBAAee,QAAf,GAA0B;AACtB,YAAMC,IAAI,GAAG,MAAMb,OAAO,CAACD,UAAU,CAACS,IAAX,GAAkBM,WAAlB,CAA8BC,GAA/B,CAA1B;AACA,YAAMC,QAAQ,GAAG,MAAMf,WAAW,CAACF,UAAU,CAACS,IAAX,GAAkBM,WAAlB,CAA8BC,GAA/B,CAAlC;;AAEA,UAAIF,IAAI,CAAC,aAAD,CAAJ,IAAuBI,SAA3B,EAAsC;AAClCf,QAAAA,MAAM,CAACgB,OAAP,CAAe,iBAAf;AACH,OAFD,MAEO,IAAIF,QAAQ,CAAC,iBAAD,CAAR,IAA+BC,SAAnC,EAA8C;AACjDf,QAAAA,MAAM,CAACgB,OAAP,CAAe,qBAAf;AACH,OAFM,MAEA;AACHhB,QAAAA,MAAM,CAACgB,OAAP,CAAe,SAAf;AACH;AACJ;;AACDN,IAAAA,QAAQ;AACX,GAdQ,EAcN,CAACb,UAAU,CAACS,IAAX,GAAkBM,WAAnB,CAdM,CAAT;AAgBA,sBACI,8CACI,oBAAC,kBAAD;AACI,IAAA,QAAQ,EAAEV,UADd;AAEI,IAAA,YAAY,EAAEL,UAAU,CAACS,IAAX;AAFlB,IADJ,CADJ;AAOH,CAzBD;;AA2BA,eAAeG,KAAf","sourcesContent":["import React, {useEffect, useState} from 'react'\nimport StyledFirebaseAuth from 'react-firebaseui/StyledFirebaseAuth';\nimport {myFirebase} from '../lib/firebase'\nimport {User, Employer} from '../model/model'\nimport {getUser, getEmployer} from '../lib/server'\nimport Router from 'next/router'\nimport * as firebase from 'firebase/app'\n\nconst AuthConfig = {\n    callbacks: {\n        signInSuccessWithAuthResult: () => false\n    },\n    signInOptions: [\n        firebase.auth.EmailAuthProvider.PROVIDER_ID\n    ]\n};\n\nconst Index: React.FC = () => {\n\n    useEffect(() => {\n        async function findUser() {\n            const user = await getUser(myFirebase.auth().currentUser.uid)\n            const employer = await getEmployer(myFirebase.auth().currentUser.uid)\n\n            if (user['user_exists'] == undefined) {\n                Router.replace('/dashboard_user')\n            } else if (employer['employer_exists'] == undefined) {\n                Router.replace('/dashboard_employer')\n            } else {\n                Router.replace('/signup')\n            }\n        }\n        findUser()\n    }, [myFirebase.auth().currentUser])\n\n    return (\n        <div>\n            <StyledFirebaseAuth\n                uiConfig={AuthConfig}\n                firebaseAuth={myFirebase.auth()}/>\n        </div>\n    );\n};\n\nexport default Index;"]},"metadata":{},"sourceType":"module"}