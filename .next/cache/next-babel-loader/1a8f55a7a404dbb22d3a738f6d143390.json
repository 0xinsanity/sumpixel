{"ast":null,"code":"import React, { useContext, useState } from 'react';\nimport { Button, Form, Input, Row, Radio, Card, message } from 'antd';\nimport { myFirebase } from '../lib/firebase';\nimport { NavBarStatus } from '../model/model';\nimport { getUser, getEmployer } from '../lib/server';\nimport Router from 'next/router';\nimport { UserContext } from '../lib/UserProvider';\nimport { Container } from '../components/Container';\n\nconst Index = () => {\n  const [status, setStatus] = useState(NavBarStatus.Undecided);\n  const firebaseUser = useContext(UserContext);\n\n  const onFinish = values => {\n    myFirebase.auth().signInWithEmailAndPassword(values.email, values.password).then(async () => {\n      switch (values.newStatus) {\n        case NavBarStatus.Designer:\n          const user = await getUser(firebaseUser.uid);\n\n          if (user['user_exists'] == undefined) {\n            message.error(\"It looks like you haven't created an account yet.\");\n          } else {\n            Router.push('/dashboard_user');\n          }\n\n          break;\n\n        case NavBarStatus.Designer:\n          const employer = await getEmployer(firebaseUser.uid);\n\n          if (employer['user_exists'] == undefined) {\n            message.error(\"It looks like you haven't created an account yet.\");\n          } else {\n            Router.push('/dashboard_employer');\n          }\n\n          break;\n\n        case NavBarStatus.Undecided:\n          message.error(\"Please choose whether you are an Employer or Designer.\");\n      }\n    }).catch(error => {\n      message.error(\"Looks like your password or email is incorrect.\");\n    });\n  };\n\n  const onFinishFailed = () => {};\n\n  const onClick = () => {\n    Router.replace('/signup');\n  };\n\n  const updateStatus = ({\n    newStatus\n  }) => {\n    setStatus(newStatus);\n  };\n\n  return /*#__PURE__*/React.createElement(Container, null, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      paddingTop: '10%'\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    title: \"Login\"\n  }, /*#__PURE__*/React.createElement(Form, {\n    name: \"basic\",\n    initialValues: {\n      remember: true\n    },\n    onFinish: onFinish,\n    onFinishFailed: onFinishFailed,\n    onValuesChange: updateStatus,\n    style: {\n      marginBottom: 50\n    }\n  }, /*#__PURE__*/React.createElement(Form.Item, {\n    label: \"Email\",\n    name: \"email\"\n  }, /*#__PURE__*/React.createElement(Input, {\n    placeholder: \"Email\"\n  })), /*#__PURE__*/React.createElement(Form.Item, {\n    label: \"Password\",\n    name: \"password\"\n  }, /*#__PURE__*/React.createElement(Input, {\n    type: \"password\",\n    placeholder: \"Password\"\n  })), /*#__PURE__*/React.createElement(Form.Item, {\n    label: \"You are\",\n    name: \"newStatus\"\n  }, /*#__PURE__*/React.createElement(Radio.Group, {\n    value: status\n  }, /*#__PURE__*/React.createElement(Radio.Button, {\n    value: NavBarStatus.Employer\n  }, \"Employer\"), /*#__PURE__*/React.createElement(Radio.Button, {\n    value: NavBarStatus.Designer\n  }, \"Designer\"))), /*#__PURE__*/React.createElement(Form.Item, null, /*#__PURE__*/React.createElement(Row, {\n    justify: \"center\"\n  }, /*#__PURE__*/React.createElement(Button, {\n    style: {\n      width: '60%'\n    },\n    type: \"primary\",\n    htmlType: \"submit\"\n  }, \"Login\")), /*#__PURE__*/React.createElement(Button, {\n    onClick: onClick,\n    style: {\n      paddingTop: 10\n    },\n    type: \"link\"\n  }, \"Haven't made an account? Click here to sign up\"))))));\n};\n\nexport default Index;","map":{"version":3,"sources":["/Users/insanity/Documents/personalprojects/sumpixel-client/pages/index.tsx"],"names":["React","useContext","useState","Button","Form","Input","Row","Radio","Card","message","myFirebase","NavBarStatus","getUser","getEmployer","Router","UserContext","Container","Index","status","setStatus","Undecided","firebaseUser","onFinish","values","auth","signInWithEmailAndPassword","email","password","then","newStatus","Designer","user","uid","undefined","error","push","employer","catch","onFinishFailed","onClick","replace","updateStatus","paddingTop","remember","marginBottom","Employer","width"],"mappings":"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","sourcesContent":["import React, {useContext, useState} from 'react'\nimport StyledFirebaseAuth from 'react-firebaseui/StyledFirebaseAuth';\nimport {Button, Form, Input, Row, Radio, Card, message} from 'antd'\nimport {myFirebase} from '../lib/firebase'\nimport {User, Employer, NavBarStatus} from '../model/model'\nimport {getUser, getEmployer} from '../lib/server'\nimport Router from 'next/router'\nimport {UserContext} from '../lib/UserProvider'\nimport { Container } from '../components/Container';\n\nconst Index: React.FC = () => {\n    const [status, setStatus] = useState<NavBarStatus>(NavBarStatus.Undecided)\n    const firebaseUser = useContext(UserContext)\n\n    const onFinish = (values) => {\n        myFirebase.auth().signInWithEmailAndPassword(values.email, values.password).then(async () => {\n            switch (values.newStatus as NavBarStatus) {\n                case NavBarStatus.Designer:\n                    const user = await getUser(firebaseUser.uid)\n                    if (user['user_exists'] == undefined) {\n                        message.error(\"It looks like you haven't created an account yet.\")\n                    } else {\n                        Router.push('/dashboard_user')\n                    }\n                    break\n                case NavBarStatus.Designer:\n                    const employer = await getEmployer(firebaseUser.uid)\n                    if (employer['user_exists'] == undefined) {\n                        message.error(\"It looks like you haven't created an account yet.\")\n                    } else {\n                        Router.push('/dashboard_employer')\n                    }\n                    break\n                case NavBarStatus.Undecided:\n                    message.error(\"Please choose whether you are an Employer or Designer.\")\n            }\n        }).catch(error => {\n            message.error(\"Looks like your password or email is incorrect.\");\n        });\n    }\n\n    const onFinishFailed = () => {\n        \n    }\n\n    const onClick = () => {\n        Router.replace('/signup')\n    }\n\n    const updateStatus = ({newStatus}) => {\n        setStatus(newStatus)\n    }\n\n    return (\n        <Container>\n            <div style={{paddingTop: '10%'}}>\n                <Card title=\"Login\">\n                    <Form\n                        name=\"basic\"\n                        initialValues={{ remember: true }}\n                        onFinish={onFinish}\n                        onFinishFailed={onFinishFailed}\n                        onValuesChange={updateStatus}\n                        style={{marginBottom: 50}}\n                    >\n                        <Form.Item\n                            label=\"Email\"\n                            name=\"email\"\n                        >\n                            <Input placeholder=\"Email\"/>\n                        </Form.Item>\n\n                        <Form.Item\n                            label=\"Password\"\n                            name=\"password\"\n                        >\n                            <Input type=\"password\" placeholder=\"Password\"/>\n                        </Form.Item>\n\n                        <Form.Item label=\"You are\" name=\"newStatus\">\n                            <Radio.Group value={status}>\n                                <Radio.Button value={NavBarStatus.Employer}>Employer</Radio.Button>\n                                <Radio.Button value={NavBarStatus.Designer}>Designer</Radio.Button>\n                            </Radio.Group>\n                        </Form.Item>\n\n                        <Form.Item>\n                            <Row justify=\"center\">\n                                <Button style={{width: '60%'}} type=\"primary\" htmlType=\"submit\">\n                                    Login\n                                </Button>\n                            </Row>\n                            <Button onClick={onClick} style={{paddingTop: 10}} type=\"link\">\n                                    Haven't made an account? Click here to sign up\n                            </Button>\n                        </Form.Item>\n                    </Form>\n                </Card>\n            </div>\n        </Container>\n    );\n};\n\nexport default Index;"]},"metadata":{},"sourceType":"module"}