{"version":3,"file":"static/webpack/static/development/pages/signup.js.8eb46e5b0387604cc153.hot-update.js","sources":["webpack:///./pages/signup.tsx"],"sourcesContent":["import React, {useEffect, useState, useContext} from 'react'\nimport {message} from 'antd'\nimport {PopupModal} from '../components/General/PopupModal';\nimport {myFirebase} from '../lib/firebase'\nimport {Onboard} from '../components/OnboardingFlow/Onboard'\nimport { UserContext } from '../lib/UserProvider';\nimport LoginComponent from '../components/Login/LoginComponent'\n\nconst SignUp: React.FC = (props) => {\n    const {currentUser, changeUser} = useContext(UserContext)\n    const [isSignedIn, setIsSignedIn] = useState(false);\n    useEffect(() => {\n        if (currentUser !== null) {\n            setIsSignedIn(true)\n        }\n    }, [currentUser])\n\n    const onFinish = (values) => {\n        myFirebase.auth().createUserWithEmailAndPassword(values.email, values.password).then(() => {\n            myFirebase.auth().currentUser.updateProfile({\n                displayName: `${values.firstName} ${values.lastName}`\n            }).then(() => {\n                setIsSignedIn(true)\n            })\n        }).catch((error) => {\n            message.error(error.message)\n        })\n    }\n\n    const deleteUser = async () => {\n        if (myFirebase.auth().currentUser === null) {\n            await myFirebase.auth().signOut()\n        } else {\n            await myFirebase.auth().currentUser.delete()\n        }\n        changeUser(undefined)\n        setIsSignedIn(false)\n    }\n\n    return (\n        <>\n            <PopupModal\n                visible={!isSignedIn}\n            >\n                <LoginComponent isSignUp={true} title=\"Sign Up\" onFinish={onFinish}/>\n            </PopupModal>\n            <Onboard deleteUser={deleteUser}/>\n        </>\n    );\n};\n\nexport default SignUp;"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAGA;AADA;AAGA;AAAA;AAAA;AAAA;AAEA;AAAA;AAGA;AACA;AACA;;;;A","sourceRoot":""}