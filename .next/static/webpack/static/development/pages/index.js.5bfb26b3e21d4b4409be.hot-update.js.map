{"version":3,"file":"static/webpack/static/development/pages/index.js.5bfb26b3e21d4b4409be.hot-update.js","sources":["webpack:///./pages/index.tsx"],"sourcesContent":["import React, {useContext, useState} from 'react'\nimport StyledFirebaseAuth from 'react-firebaseui/StyledFirebaseAuth';\nimport {Button, Form, Input, Row, Radio, Card, message} from 'antd'\nimport {myFirebase} from '../lib/firebase'\nimport {User, Employer, NavBarStatus} from '../model/model'\nimport {getUser, getEmployer} from '../lib/server'\nimport Router from 'next/router'\nimport {UserContext} from '../lib/UserProvider'\nimport { Container } from '../components/Container';\n\nconst Index: React.FC = () => {\n    const [status, setStatus] = useState<NavBarStatus>(NavBarStatus.Undecided)\n    const firebaseUser = useContext(UserContext)\n\n    const onFinish = (values) => {\n        myFirebase.auth().signInWithEmailAndPassword(values.email, values.password).then(async () => {\n            switch (values.newStatus as NavBarStatus) {\n                case NavBarStatus.Designer:\n                    const user = await getUser(firebaseUser.uid)\n                    if (user['user_exists'] == undefined) {\n                        message.error(\"It looks like you haven't created an account yet.\")\n                    } else {\n                        Router.push('/dashboard_user')\n                    }\n                    break\n                case NavBarStatus.Designer:\n                    const employer = await getEmployer(firebaseUser.uid)\n                    if (employer['user_exists'] == undefined) {\n                        message.error(\"It looks like you haven't created an account yet.\")\n                    } else {\n                        Router.push('/dashboard_employer')\n                    }\n                    break\n                case NavBarStatus.Undecided:\n                    message.error(\"Please choose whether you are an Employer or Designer.\")\n            }\n        }).catch(error => {\n            message.error(\"Looks like your password or email is incorrect.\");\n        });\n    }\n\n    const onFinishFailed = () => {\n        \n    }\n\n    const onClick = () => {\n        Router.replace('/signup')\n    }\n\n    const updateStatus = ({newStatus}) => {\n        setStatus(newStatus)\n    }\n\n    return (\n        <Container>\n            <div style={{paddingTop: '10%'}}>\n                <Card title=\"Login\">\n                    <Form\n                        name=\"basic\"\n                        initialValues={{ remember: true }}\n                        onFinish={onFinish}\n                        onFinishFailed={onFinishFailed}\n                        onValuesChange={updateStatus}\n                        style={{marginBottom: 50}}\n                    >\n                        <Form.Item\n                            label=\"Email\"\n                            name=\"email\"\n                        >\n                            <Input placeholder=\"Email\"/>\n                        </Form.Item>\n\n                        <Form.Item\n                            label=\"Password\"\n                            name=\"password\"\n                        >\n                            <Input type=\"password\" placeholder=\"Password\"/>\n                        </Form.Item>\n\n                        <Form.Item label=\"You are\" name=\"newStatus\">\n                            <Radio.Group value={status}>\n                                <Radio.Button value={NavBarStatus.Employer}>Employer</Radio.Button>\n                                <Radio.Button value={NavBarStatus.Designer}>Designer</Radio.Button>\n                            </Radio.Group>\n                        </Form.Item>\n\n                        <Form.Item>\n                            <Row justify=\"center\">\n                                <Button style={{width: '60%'}} type=\"primary\" htmlType=\"submit\">\n                                    Login\n                                </Button>\n                            </Row>\n                            <Button onClick={onClick} style={{paddingTop: 10}} type=\"link\">\n                                    Haven't made an account? Click here to sign up\n                            </Button>\n                        </Form.Item>\n                    </Form>\n                </Card>\n            </div>\n        </Container>\n    );\n};\n\nexport default Index;"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AAlBA;AAoBA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AACA;AAAA;AAEA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AANA;AASA;AACA;AAFA;AAIA;AAAA;AAIA;AACA;AAFA;AAIA;AAAA;AAAA;AAGA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAKA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;AACA;AACA;;;;A","sourceRoot":""}