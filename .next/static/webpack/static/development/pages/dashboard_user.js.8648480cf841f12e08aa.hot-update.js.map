{"version":3,"file":"static/webpack/static/development/pages/dashboard_user.js.8648480cf841f12e08aa.hot-update.js","sources":["webpack:///./components/Dashboard/Designer/ViewCommunications.tsx"],"sourcesContent":["import React, {useContext, useState, useEffect} from 'react'\nimport {UserContext} from '../../../lib/UserProvider'\nimport QuizScreen from '../../OnboardingFlow/Designers/QuizScreen'\nimport {createUser, getDesignCommunicationsList, updateDesignerDecision} from '../../../lib/server'\nimport {User, CommDesigner, DesignerDecisionTalk} from '../../../model/model'\nimport {Typography, message} from 'antd'\nimport Loading from '../../General/Loading'\nimport CommunicationsList from './CommunicationsList'\n\nconst ViewCommunications: React.FC = (props) => {\n    const {currentUser, changeUser}  = useContext(UserContext)\n    const [commList, setCommList] = useState<CommDesigner[] | undefined>(undefined)\n\n    const updateUser = async (updatedUser: User) => {\n        changeUser(updatedUser)\n        await createUser(updatedUser)\n    }\n\n    const updateDesignerText = async (commId: string, update: DesignerDecisionTalk) => {\n        await updateDesignerDecision(commId, update)\n        message.success(\"Updated Decision\")\n        setCommList(await getDesignCommunicationsList(currentUser.id))\n    }\n\n    useEffect(() => {\n        getDesignCommunicationsList(currentUser.id).then((commList: CommDesigner[]) => {\n            setCommList(commList)\n        })\n    }, [])\n\n    if (!((currentUser as User).completedQuiz)) {\n        return (<QuizScreen isDashboard={true} changeCurrentUser={updateUser}/>)\n    }\n\n    if (!(currentUser as User).graded) {\n        return (<Typography>It looks you have not been reviewed by our staff yet. Check back later!</Typography>)\n    } else {\n        if ((currentUser as User).communications === null || (currentUser as User).communications === []) {\n            return (<Typography>Our employers are currently taking a look at your profile and will reach out if they express interest in you.</Typography>)\n        } else {\n            if (commList == undefined) {\n                return (<Loading />)\n            } else {\n                console.log(\"comm: \" + (commList === []))\n                return (<CommunicationsList communicationList={commList} updateDesignerText={updateDesignerText}/>)\n            }\n        }\n    }\n}\n\nexport default ViewCommunications"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;A","sourceRoot":""}