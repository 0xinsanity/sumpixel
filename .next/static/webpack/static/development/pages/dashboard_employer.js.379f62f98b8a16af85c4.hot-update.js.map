{"version":3,"file":"static/webpack/static/development/pages/dashboard_employer.js.379f62f98b8a16af85c4.hot-update.js","sources":["webpack:///./components/Dashboard/Employer/DesignerInfoModal.tsx","webpack:///./components/Dashboard/Employer/DesignerList.tsx"],"sourcesContent":["import React from 'react'\nimport { UserAndGrade } from '../../../model/model'\nimport {Modal, Button} from 'antd'\nimport {createCommunication} from '../../../lib/server'\n\ninterface DesignerInfoModalProps {\n    info: UserAndGrade\n    visible: boolean\n    onConnect: (designerId: string) => void\n}\n\nconst DesignerInfoModal: React.FC<DesignerInfoModalProps> = props => {\n    const {info, visible, onConnect} = props\n    const {designer, grade} = info\n\n    const onClick = () => {\n        onConnect(designer.id)\n    }\n\n    return (\n        <Modal\n            title={designer.firstName + \" \" + designer.lastName}\n            visible={visible}\n            onOk={onClick}\n            footer={[\n                <Button key=\"submit\" type=\"primary\">\n                    Connect\n                </Button>]}\n        >\n\n        </Modal>)\n}\n\nexport default DesignerInfoModal","import React, {useEffect, useContext, useState} from 'react'\nimport { createCommunication } from '../../../lib/server'\nimport { UserAndGrade, Employer } from '../../../model/model'\nimport {UserContext} from '../../../lib/UserProvider'\nimport Loading from '../../General/Loading'\nimport {List, Button} from 'antd'\nimport DesignerInfoModal from './DesignerInfoModal'\n\ninterface DesignerListProps {\n    designerList: UserAndGrade[]\n}\n\nconst DesignerList: React.FC<DesignerListProps> = (props) => {\n    const {currentUser, changeUser}  = useContext(UserContext)\n    const {designerList} = props\n    const [showModal, setModalVisibility] = useState(false) \n    const [currentDesigner, setCurrentDesigner] = useState<UserAndGrade>(undefined) \n\n    const onMoreInfo = (userAndGrade: UserAndGrade) => {\n        setCurrentDesigner(userAndGrade)\n        setModalVisibility(true)\n    }\n\n    const onConnect = async (designerId: string) => {\n        const comm = await createCommunication(designerId, currentUser.id)\n        setModalVisibility(false)\n        const newUser = {...currentUser, communications: [...currentUser.communications, comm.id]}\n        changeUser(newUser)\n    }\n\n    return (\n        <div>\n            <DesignerInfoModal visible={showModal}\n                               info={currentDesigner}\n                               onConnect={onConnect}/>\n            <List\n                style={{width: '100%'}}\n                dataSource={designerList}\n                bordered\n                renderItem={(userAndGrade) => (\n                    <List.Item>\n                        <List.Item.Meta title={userAndGrade.designer.firstName + \" \" + userAndGrade.designer.lastName} description={\"Score: \" + userAndGrade.grade.score}/>\n                        <Button onClick={() => onMoreInfo(userAndGrade)}>\n                            More Info\n                        </Button>\n                    </List.Item>\n                )}\n            />\n        </div>)\n}\n\nexport default DesignerList"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAQA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAAA;AAAA;AALA;AAWA;AACA;AACA;;;;;;;;;;;;ACjCA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AAEA;AACA;AACA;AAKA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAFA;AAIA;AAAA;AAAA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AACA;AAAA;AAPA;AAcA;AACA;AACA;;;;A","sourceRoot":""}